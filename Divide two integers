class Solution:
    def divide(self, dividend, divisor):
        # Handle overflow: the only case that overflows is when dividend is -2^31 and divisor is -1
        if dividend == -2**31 and divisor == -1:
            return 2**31 - 1  # Return 2^31 - 1, which is the maximum 32-bit signed integer
        
        # Get the sign of the result
        sign = -1 if (dividend < 0) != (divisor < 0) else 1
        
        # Work with absolute values to simplify the calculation
        dividend = abs(dividend)
        divisor = abs(divisor)
        
        quotient = 0
        # The idea is to subtract the largest multiple of divisor that fits into dividend
        while dividend >= divisor:
            temp_divisor, num_divisors = divisor, 1
            while dividend >= (temp_divisor << 1):  # Double the divisor until it's larger than dividend
                temp_divisor <<= 1  # Double the divisor
                num_divisors <<= 1  # Double the number of divisors
            
            dividend -= temp_divisor  # Subtract the largest possible divisor
            quotient += num_divisors  # Add the number of divisors used
        
        # Apply the sign to the quotient
        return sign * quotient
